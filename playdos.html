<!doctype html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <style>
html, body, #jsdos {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
}
        </style>
        <script src="/js-dos/js-dos.js"></script>
        <link href="/js-dos/js-dos.css" rel="stylesheet">
    </head>
    <body>
        <div id="jsdos" />
            <script>
                //http://example.com/page.html?dosid=value1&param2=value2
                function getURLParams() {
                    var params = {};
                    var parser = document.createElement('a');
                    parser.href = window.location.href;
                    var query = parser.search.substring(1);
                    var vars = query.split('&');
                    for (var i = 0; i < vars.length; i++) {
                        var pair = vars[i].split('=');
                        params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
                    }
                    return params;
                }

// 使用方法
var params = getURLParams();
var param1 = params['dosid']; // 'value1'
var param2 = params['param2']; // 'value2'
var paramini = "/roms/"+params['dosid']+".jsdos";


emulators.pathPrefix = "/js-dos/";
Dos(document.getElementById("jsdos"))
    .run(paramini);
            </script>
    </body>
</html>
